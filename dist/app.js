(()=>{"use strict";var t={838:(t,e,i)=>{i.d(e,{Z:()=>m});var s=i(645),n=i.n(s),o=i(667),a=i.n(o),r=i(691),h=i(223),c=i(648),l=n()((function(t){return t[1]})),d=a()(r.Z),p=a()(h.Z),u=a()(c.Z);l.push([t.id,'.ghost{margin:0;position:absolute;z-index:2}*{font-family:"Press Start 2P",sans-serif}body{margin:0;overflow:hidden}.overflow-mask{background-color:#000;color:#fff;display:flex;height:100vh;justify-content:center;margin:0;overflow:hidden;position:relative;touch-action:manipulation}.backdrop{position:absolute;visibility:hidden}.fps-display{position:absolute;right:10px;top:10px;visibility:hidden}.preload-div{align-items:baseline;bottom:0;display:flex;flex-wrap:wrap-reverse;position:absolute;visibility:hidden}.header-buttons{margin:16px;position:absolute;width:100%;z-index:2}.header-buttons button{background:none;border:0;color:#fff;cursor:pointer;outline:none;padding:0}.header-buttons button .material-icons{font-size:40px}.paused-text{align-items:center;display:flex;font-size:50px;height:100%;justify-content:center;left:0;position:absolute;user-select:none;visibility:hidden;width:100%;z-index:1}.game-ui{display:flex;flex-direction:column;justify-content:center}.game-ui .one-up{animation:blink .6s infinite}@keyframes blink{0%{opacity:0}49%{opacity:0}50%{opacity:1}}.game-ui .row{display:flex}.game-ui .top ._25{width:25%}.game-ui .top ._50{width:50%}.game-ui .top .column :first-child{text-align:center}.game-ui .top .column :not(:first-child){margin-right:calc(50% - 3em);text-align:right}.game-ui .bottom{justify-content:space-between}.game-ui .bottom .extra-lives{align-items:flex-start;display:flex}.game-ui .bottom .fruit-display{display:flex;flex-direction:row-reverse}@media(orientation: landscape){.game-ui{height:100%}}@media(orientation: portrait){.game-ui{height:66%}}.loading-cover{background:#ffdf00;height:100vh;position:absolute;top:0;width:50vw;z-index:4}.left{left:0;transition:left .5s .5s}.right{right:0;transition:right .5s .5s}.main-menu-container{align-items:center;display:flex;flex-direction:column;height:100%;left:0;opacity:0;position:absolute;transition:opacity .25s;visibility:hidden;width:100%;z-index:5}.logo{height:200px;margin-top:25vh}.game-start{background-color:#fcc73f;border:5px solid #231f20;border-radius:10px;box-shadow:5px 5px #ee2a29;color:#231f20;cursor:pointer;font-size:48px;outline:none;padding:16px}.game-start:active{box-shadow:none;transform:translateX(5px) translateY(5px)}.game-start:disabled{cursor:default}.loading-container{background-color:#000;border:5px solid #2121ff;border-radius:10px;height:48px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);transition:opacity .5s 1s;width:500px;z-index:5}.loading-pacman{animation:loading-animation .3s steps(4) infinite;background-color:#000;background-image:url('+d+");background-size:192px;border-radius:10px;height:48px;position:absolute;transition:left 1s;width:48px;z-index:6}@keyframes loading-animation{100%{background-position:-192px}}.loading-dot-mask{background-color:#000;border-radius:10px;height:48px;left:0;position:absolute;top:0;transition:width 1s;z-index:-1}.loading-dot{background-image:url("+p+");height:6px;position:absolute;top:50%;transform:translateY(-50%);width:6px;z-index:-2}._5{left:5%}._10{left:10%}._15{left:15%}._20{left:20%}._25{left:25%}._30{left:30%}._35{left:35%}._40{left:40%}._45{left:45%}._50{left:50%}._55{left:55%}._60{left:60%}._65{left:65%}._70{left:70%}._75{left:75%}._80{left:80%}._85{left:85%}._90{left:90%}._95{left:95%}.movement-buttons{align-items:center;bottom:0;display:flex;flex-direction:column;height:34%;left:0;position:fixed;width:100%}.movement-buttons .row{display:flex;justify-content:space-between;margin-bottom:-3px}.movement-buttons button{background:transparent;border:3px solid #2121ff;border-radius:5px;color:#2121ff;height:7vh;outline:none;padding:0;user-select:none}.movement-buttons button:active{background:radial-gradient(closest-side, rgba(255, 255, 255, 0.25), transparent)}.movement-buttons .button-up{border-bottom:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.movement-buttons .button-left{border-bottom-right-radius:0;border-right:0;border-top-right-radius:0;margin-right:calc(7vh - 6px)}.movement-buttons .button-right{border-bottom-left-radius:0;border-left:0;border-top-left-radius:0}.movement-buttons .button-down{border-top:0;border-top-left-radius:0;border-top-right-radius:0}.movement-buttons .material-icons{font-size:7vh;margin:-3px}@media(orientation: landscape){.movement-buttons{visibility:hidden}}.error-message{color:#231f20;opacity:0;position:absolute;top:30vh;transition:opacity .5s;visibility:hidden;width:50vw;z-index:4}.error-message .error-pacman{animation:error-animation 1.5s steps(12) infinite;background-image:url("+u+");background-size:576px;height:48px;margin-left:10px;width:48px;z-index:6}@keyframes error-animation{100%{background-position:-576px}}.error-message .header{display:flex;font-size:50px;margin-bottom:30px}.error-message .body{font-size:20px;line-height:1.25}.maze-cover{background:#000;height:100%;position:absolute;visibility:hidden;width:100%;z-index:3}.maze{margin:0 auto;position:relative}.maze-img{position:absolute;user-select:none;width:100%}.maze-row{display:flex}.dot-container{height:100%;position:absolute;width:100%}.pacman{margin:0;position:absolute;z-index:1}.power-pellet{animation:blink .3s infinite}@keyframes blink{0%{opacity:0}49%{opacity:0}50%{opacity:1}}",""]);const m=l},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,s){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(s)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(n[a]=!0)}for(var r=0;r<t.length;r++){var h=[].concat(t[r]);s&&n[h[0]]||(i&&(h[2]?h[2]="".concat(i," and ").concat(h[2]):h[2]=i),e.push(h))}},e}},667:t=>{t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},379:(t,e,i)=>{var s,n=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),o=[];function a(t){for(var e=-1,i=0;i<o.length;i++)if(o[i].identifier===t){e=i;break}return e}function r(t,e){for(var i={},s=[],n=0;n<t.length;n++){var r=t[n],h=e.base?r[0]+e.base:r[0],c=i[h]||0,l="".concat(h," ").concat(c);i[h]=c+1;var d=a(l),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(o[d].references++,o[d].updater(p)):o.push({identifier:l,updater:g(p,e),references:1}),s.push(l)}return s}function h(t){var e=document.createElement("style"),s=t.attributes||{};if(void 0===s.nonce){var o=i.nc;o&&(s.nonce=o)}if(Object.keys(s).forEach((function(t){e.setAttribute(t,s[t])})),"function"==typeof t.insert)t.insert(e);else{var a=n(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,l=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function d(t,e,i,s){var n=i?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(t.styleSheet)t.styleSheet.cssText=l(e,n);else{var o=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e,i){var s=i.css,n=i.media,o=i.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}var u=null,m=0;function g(t,e){var i,s,n;if(e.singleton){var o=m++;i=u||(u=h(e)),s=d.bind(null,i,o,!1),n=d.bind(null,i,o,!0)}else i=h(e),s=p.bind(null,i,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s));var i=r(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var s=0;s<i.length;s++){var n=a(i[s]);o[n].references--}for(var h=r(t,e),c=0;c<i.length;c++){var l=a(i[c]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}i=h}}}},648:(t,e,i)=>{i.d(e,{Z:()=>s});const s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAAAQCAYAAABA4nAoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFZSURBVHgB7ZnrCsIwDIXr2Hso+P6PJOiTKP1RKKGXnPS2zfOBirNJy5qTpNM5QgghhJD/5Hl/fP2r91hCjs4Wf6kFdu53VBAUEDkKN/8mA/L1ed/kwNwYjW3NByGr2FIXZaAiGRutEqGlQlswVpHr0hJ/KLsrLMJnaMvkwQa1j8fG1aHkgxXoOoSYC3ETf7pBqIJMIhdkEUmuhUJ9tNrLayV/yEbkxIzQuvlntC/ZjBDD7hZjDeJeN6KlvdMKKK6IDpzLuumt9quYGfweOJOXFuiUoJm3Zr+yArXOL+lRgVI+LJnYahv7QNc8W6zqTbDcfJndNT5a7FMZ2pq1a/QUELIO9B4idjkfq1q43Jp6+uQhMKK3gErtnfaQn2NkBZF+ZgpgdstGAXRE8xRrhIBqfmp2Gj/WcwgquqVnALKOUqXRVKHUWEsLGvuZ8RgSmf9sB3pCTMz8I+wHBEV3/RCKQ4QAAAAASUVORK5CYII="},691:(t,e,i)=>{i.d(e,{Z:()=>s});const s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS4xYyqcSwAAAOtJREFUWEfl0EEOgzAMRcHe/9IUoSg49rihaxZP8p+lP8dxvDoiydgEMjaBjE0gY35Amow4ApWII9CMmAKVVggjnNuEoDYhaEZMgdruETSc24SgNiHoiohAbfcYx9x/FEc4f0Y8A10REYhVHMdiD4sjnCViCmRsAs2Is3Es9rA4wnlVYFOmApsyFWgbx2IPiyOcJWIKZGwCzYizcSz2sDjC+TPiGeiKiECsYhjh3CYEtQlBV0QEartH0HBuE4LahKAZMQVqu0fUszQZcQQqEUegGTEFKq2wjDuQsQlkbAIZm0DG7gHvifiejs8Xm0j0ppzJP64AAAAASUVORK5CYII="},223:(t,e,i)=>{i.d(e,{Z:()=>s});const s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAATSURBVHgBY/y1c8N/BiBgYoACADSiA2ZH1OtvAAAAAElFTkSuQmCC"}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={id:s,exports:{}};return t[s](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{const t=function(){function t(t,e,i,s,n,o,a){this.scaledTileSize=t,this.mazeArray=e,this.pacman=i,this.name=s,this.level=n,this.characterUtil=o,this.blinky=a,this.animationTarget=document.getElementById(s),this.reset()}return t.prototype.reset=function(t){t&&(delete this.defaultSpeed,delete this.cruiseElroy),this.setDefaultMode(),this.setMovementStats(this.pacman,this.name,this.level),this.setSpriteAnimationStats(),this.setStyleMeasurements(this.scaledTileSize,this.spriteFrames),this.setDefaultPosition(this.scaledTileSize,this.name),this.setSpriteSheet(this.name,this.direction,this.mode)},t.prototype.setDefaultMode=function(){this.allowCollision=!0,this.defaultMode="scatter",this.mode="scatter","blinky"!==this.name&&(this.idleMode="idle")},t.prototype.setMovementStats=function(t,e,i){var s=t.velocityPerMs,n=i/100;switch(this.slowSpeed=s*(.75+n),this.mediumSpeed=s*(.875+n),this.fastSpeed=s*(1+n),this.defaultSpeed||(this.defaultSpeed=this.slowSpeed),this.scaredSpeed=.5*s,this.transitionSpeed=.4*s,this.eyeSpeed=2*s,this.velocityPerMs=this.defaultSpeed,this.moving=!1,e){case"blinky":this.defaultDirection=this.characterUtil.directions.left;break;case"pinky":this.defaultDirection=this.characterUtil.directions.down;break;case"inky":case"clyde":this.defaultDirection=this.characterUtil.directions.up;break;default:this.defaultDirection=this.characterUtil.directions.left}this.direction=this.defaultDirection},t.prototype.setSpriteAnimationStats=function(){this.display=!0,this.loopAnimation=!0,this.animate=!0,this.msBetweenSprites=250,this.msSinceLastSprite=0,this.spriteFrames=2,this.backgroundOffsetPixels=0,this.animationTarget.style.backgroundPosition="0px 0px"},t.prototype.setStyleMeasurements=function(t,e){this.measurement=2*t,this.animationTarget.style.height=this.measurement+"px",this.animationTarget.style.width=this.measurement+"px";var i=this.measurement*e;this.animationTarget.style.backgroundSize=i+"px"},t.prototype.setDefaultPosition=function(t,e){switch(e){case"blinky":this.defaultPosition={top:10.5*t,left:13*t};break;case"pinky":this.defaultPosition={top:13.5*t,left:13*t};break;case"inky":this.defaultPosition={top:13.5*t,left:11*t};break;case"clyde":this.defaultPosition={top:13.5*t,left:15*t};break;default:this.defaultPosition={top:0,left:0}}this.position=Object.assign({},this.defaultPosition),this.oldPosition=Object.assign({},this.position),this.animationTarget.style.top=this.position.top+"px",this.animationTarget.style.left=this.position.left+"px"},t.prototype.setSpriteSheet=function(t,e,i){var s="";this.defaultSpeed!==this.slowSpeed&&(s=this.defaultSpeed===this.mediumSpeed?"_annoyed":"_angry"),this.animationTarget.style.backgroundImage="scared"===i?"url(assets/graphics/spriteSheets/characters/ghosts/scared_"+this.scaredColor+".png)":"eyes"===i?"url(assets/graphics/spriteSheets/characters/ghosts/eyes_"+e+".png)":"url(assets/graphics/spriteSheets/characters/ghosts/"+t+"/"+t+"_"+e+s+".png)"},t.prototype.isInTunnel=function(t){return 14===t.y&&(t.x<6||t.x>21)},t.prototype.isInGhostHouse=function(t){return t.x>9&&t.x<18&&t.y>11&&t.y<17},t.prototype.getTile=function(t,e,i){var s=null;return t[e]&&t[e][i]&&"X"!==t[e][i]&&(s={x:i,y:e}),s},t.prototype.determinePossibleMoves=function(t,e,i){var s=t.x,n=t.y,o={up:this.getTile(i,n-1,s),down:this.getTile(i,n+1,s),left:this.getTile(i,n,s-1),right:this.getTile(i,n,s+1)};return o[this.characterUtil.getOppositeDirection(e)]=!1,Object.keys(o).forEach((function(t){o[t]||delete o[t]})),o},t.prototype.calculateDistance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.prototype.getPositionInFrontOfPacman=function(t,e){var i=Object.assign({},t),s=this.pacman.direction,n="up"===s||"left"===s?-1*e:e;return i["up"===s||"down"===s?"y":"x"]+=n,i},t.prototype.determinePinkyTarget=function(t){return this.getPositionInFrontOfPacman(t,4)},t.prototype.determineInkyTarget=function(t){var e=this.characterUtil.determineGridPosition(this.blinky.position,this.scaledTileSize),i=this.getPositionInFrontOfPacman(t,2);return{x:i.x+(i.x-e.x),y:i.y+(i.y-e.y)}},t.prototype.determineClydeTarget=function(t,e){return this.calculateDistance(t,e)>8?e:{x:0,y:30}},t.prototype.getTarget=function(t,e,i,s){if("eyes"===s)return{x:13.5,y:10};if("scared"===s)return i;if("scatter"===s)switch(t){case"blinky":return this.cruiseElroy?i:{x:27,y:0};case"pinky":return{x:0,y:0};case"inky":return{x:27,y:30};case"clyde":return{x:0,y:30};default:return{x:0,y:0}}switch(t){case"blinky":return i;case"pinky":return this.determinePinkyTarget(i);case"inky":return this.determineInkyTarget(i);case"clyde":return this.determineClydeTarget(e,i);default:return i}},t.prototype.determineBestMove=function(t,e,i,s,n){var o,a=this,r="scared"===n?0:1/0,h=this.getTarget(t,i,s,n);return Object.keys(e).forEach((function(t){var i=a.calculateDistance(e[t],h);("scared"===n?i>r:i<r)&&(r=i,o=t)})),o},t.prototype.determineDirection=function(t,e,i,s,n,o){var a=s,r=this.determinePossibleMoves(e,s,n);return 1===Object.keys(r).length?a=Object.keys(r)[0]:Object.keys(r).length>1&&(a=this.determineBestMove(t,r,e,i,o)),a},t.prototype.handleIdleMovement=function(t,e,i){var s=Object.assign({},this.position);return e.y<=13.5?this.direction=this.characterUtil.directions.down:e.y>=14.5&&(this.direction=this.characterUtil.directions.up),"leaving"===this.idleMode&&(13.5===e.x&&e.y>10.8&&e.y<11?(this.idleMode=void 0,s.top=10.5*this.scaledTileSize,this.direction=this.characterUtil.directions.left,window.dispatchEvent(new Event("releaseGhost"))):e.x>13.4&&e.x<13.6?(s.left=13*this.scaledTileSize,this.direction=this.characterUtil.directions.up):e.y>13.9&&e.y<14.1&&(s.top=13.5*this.scaledTileSize,this.direction=e.x<13.5?this.characterUtil.directions.right:this.characterUtil.directions.left)),s[this.characterUtil.getPropertyToChange(this.direction)]+=this.characterUtil.getVelocity(this.direction,i)*t,s},t.prototype.endIdleMode=function(){this.idleMode="leaving"},t.prototype.handleSnappedMovement=function(t,e,i,s){var n=Object.assign({},this.position);return this.direction=this.determineDirection(this.name,e,s,this.direction,this.mazeArray,this.mode),n[this.characterUtil.getPropertyToChange(this.direction)]+=this.characterUtil.getVelocity(this.direction,i)*t,n},t.prototype.enteringGhostHouse=function(t,e){return"eyes"===t&&11===e.y&&e.x>13.4&&e.x<13.6},t.prototype.enteredGhostHouse=function(t,e){return"eyes"===t&&13.5===e.x&&e.y>13.8&&e.y<14.2},t.prototype.leavingGhostHouse=function(t,e){return"eyes"!==t&&13.5===e.x&&e.y>10.8&&e.y<11},t.prototype.handleGhostHouse=function(t){var e=Object.assign({},t);return this.enteringGhostHouse(this.mode,t)&&(this.direction=this.characterUtil.directions.down,e.x=13.5,this.position=this.characterUtil.snapToGrid(e,this.direction,this.scaledTileSize)),this.enteredGhostHouse(this.mode,t)&&(this.direction=this.characterUtil.directions.up,e.y=14,this.position=this.characterUtil.snapToGrid(e,this.direction,this.scaledTileSize),this.mode=this.defaultMode,window.dispatchEvent(new Event("restoreGhost"))),this.leavingGhostHouse(this.mode,t)&&(e.y=11,this.position=this.characterUtil.snapToGrid(e,this.direction,this.scaledTileSize),this.direction=this.characterUtil.directions.left),e},t.prototype.handleUnsnappedMovement=function(t,e,i){var s=this.handleGhostHouse(e),n=this.characterUtil.determineNewPositions(this.position,this.direction,i,t,this.scaledTileSize);return this.characterUtil.changingGridPosition(s,n.newGridPosition)?this.characterUtil.snapToGrid(s,this.direction,this.scaledTileSize):n.newPosition},t.prototype.handleMovement=function(t){var e,i=this.characterUtil.determineGridPosition(this.position,this.scaledTileSize),s=this.characterUtil.determineGridPosition(this.pacman.position,this.scaledTileSize),n=this.determineVelocity(i,this.mode);return e=this.idleMode?this.handleIdleMovement(t,i,n):JSON.stringify(this.position)===JSON.stringify(this.characterUtil.snapToGrid(i,this.direction,this.scaledTileSize))?this.handleSnappedMovement(t,i,n,s):this.handleUnsnappedMovement(t,i,n),e=this.characterUtil.handleWarp(e,this.scaledTileSize,this.mazeArray),this.checkCollision(i,s),e},t.prototype.changeMode=function(t){this.defaultMode=t;var e=this.characterUtil.determineGridPosition(this.position,this.scaledTileSize);"chase"!==this.mode&&"scatter"!==this.mode||this.cruiseElroy||(this.mode=t,this.isInGhostHouse(e)||(this.direction=this.characterUtil.getOppositeDirection(this.direction)))},t.prototype.toggleScaredColor=function(){this.scaredColor="blue"===this.scaredColor?"white":"blue",this.setSpriteSheet(this.name,this.direction,this.mode)},t.prototype.becomeScared=function(){var t=this.characterUtil.determineGridPosition(this.position,this.scaledTileSize);"eyes"!==this.mode&&(this.isInGhostHouse(t)||"scared"===this.mode||(this.direction=this.characterUtil.getOppositeDirection(this.direction)),this.mode="scared",this.scaredColor="blue",this.setSpriteSheet(this.name,this.direction,this.mode))},t.prototype.endScared=function(){this.mode=this.defaultMode,this.setSpriteSheet(this.name,this.direction,this.mode)},t.prototype.speedUp=function(){this.cruiseElroy=!0,this.defaultSpeed===this.slowSpeed?this.defaultSpeed=this.mediumSpeed:this.defaultSpeed===this.mediumSpeed&&(this.defaultSpeed=this.fastSpeed)},t.prototype.resetDefaultSpeed=function(){this.defaultSpeed=this.slowSpeed,this.cruiseElroy=!1,this.setSpriteSheet(this.name,this.direction,this.mode)},t.prototype.pause=function(t){this.paused=t},t.prototype.checkCollision=function(t,e){this.calculateDistance(t,e)<1&&"eyes"!==this.mode&&this.allowCollision&&("scared"===this.mode?(window.dispatchEvent(new CustomEvent("eatGhost",{detail:{ghost:this}})),this.mode="eyes"):window.dispatchEvent(new Event("deathSequence")))},t.prototype.determineVelocity=function(t,e){return"eyes"===e?this.eyeSpeed:this.paused?0:this.isInTunnel(t)||this.isInGhostHouse(t)?this.transitionSpeed:"scared"===e?this.scaredSpeed:this.defaultSpeed},t.prototype.draw=function(t){var e=this.characterUtil.calculateNewDrawValue(t,"top",this.oldPosition,this.position),i=this.characterUtil.calculateNewDrawValue(t,"left",this.oldPosition,this.position);this.animationTarget.style.top=e+"px",this.animationTarget.style.left=i+"px",this.animationTarget.style.visibility=this.display?this.characterUtil.checkForStutter(this.position,this.oldPosition):"hidden";var s=this.characterUtil.advanceSpriteSheet(this);this.msSinceLastSprite=s.msSinceLastSprite,this.animationTarget=s.animationTarget,this.backgroundOffsetPixels=s.backgroundOffsetPixels},t.prototype.update=function(t){this.oldPosition=Object.assign({},this.position),this.moving&&(this.position=this.handleMovement(t),this.setSpriteSheet(this.name,this.direction,this.mode),this.msSinceLastSprite+=t)},t}(),e=function(){function t(t,e,i){this.scaledTileSize=t,this.mazeArray=e,this.characterUtil=i,this.animationTarget=document.getElementById("pacman"),this.pacmanArrow=document.getElementById("pacman-arrow"),this.reset()}return t.prototype.reset=function(){this.setMovementStats(this.scaledTileSize),this.setSpriteAnimationStats(),this.setStyleMeasurements(this.scaledTileSize,this.spriteFrames),this.setDefaultPosition(this.scaledTileSize),this.setSpriteSheet(this.direction),this.pacmanArrow.style.backgroundImage="url(assets/graphics/spriteSheets/characters/pacman/arrow_"+this.direction+".png)"},t.prototype.setMovementStats=function(t){this.velocityPerMs=this.calculateVelocityPerMs(t),this.desiredDirection=this.characterUtil.directions.left,this.direction=this.characterUtil.directions.left,this.moving=!1},t.prototype.setSpriteAnimationStats=function(){this.specialAnimation=!1,this.display=!0,this.animate=!0,this.loopAnimation=!0,this.msBetweenSprites=50,this.msSinceLastSprite=0,this.spriteFrames=4,this.backgroundOffsetPixels=0,this.animationTarget.style.backgroundPosition="0px 0px"},t.prototype.setStyleMeasurements=function(t,e){this.measurement=2*t,this.animationTarget.style.height=this.measurement+"px",this.animationTarget.style.width=this.measurement+"px",this.animationTarget.style.backgroundSize=this.measurement*e+"px",this.pacmanArrow.style.height=2*this.measurement+"px",this.pacmanArrow.style.width=2*this.measurement+"px",this.pacmanArrow.style.backgroundSize=2*this.measurement+"px"},t.prototype.setDefaultPosition=function(t){this.defaultPosition={top:22.5*t,left:13*t},this.position=Object.assign({},this.defaultPosition),this.oldPosition=Object.assign({},this.position),this.animationTarget.style.top=this.position.top+"px",this.animationTarget.style.left=this.position.left+"px"},t.prototype.calculateVelocityPerMs=function(t){return 11*t/1e3},t.prototype.setSpriteSheet=function(t){this.animationTarget.style.backgroundImage="url(assets/graphics/spriteSheets/characters/pacman/pacman_"+t+".png)"},t.prototype.prepDeathAnimation=function(){this.loopAnimation=!1,this.msBetweenSprites=125,this.spriteFrames=12,this.specialAnimation=!0,this.backgroundOffsetPixels=0;var t=this.measurement*this.spriteFrames;this.animationTarget.style.backgroundSize=t+"px",this.animationTarget.style.backgroundImage="url(app/style/graphics/spriteSheets/characters/pacman/pacman_death.png)",this.animationTarget.style.backgroundPosition="0px 0px",this.pacmanArrow.style.backgroundImage=""},t.prototype.changeDirection=function(t,e){this.desiredDirection=t,this.pacmanArrow.style.backgroundImage="url(assets/graphics/spriteSheets/characters/pacman/arrow_"+this.desiredDirection+".png)",e&&(this.moving=!0)},t.prototype.updatePacmanArrowPosition=function(t,e){this.pacmanArrow.style.top=t.top-e+"px",this.pacmanArrow.style.left=t.left-e+"px"},t.prototype.handleSnappedMovement=function(t){var e=this.characterUtil.determineNewPositions(this.position,this.desiredDirection,this.velocityPerMs,t,this.scaledTileSize),i=this.characterUtil.determineNewPositions(this.position,this.direction,this.velocityPerMs,t,this.scaledTileSize);return this.characterUtil.checkForWallCollision(e.newGridPosition,this.mazeArray,this.desiredDirection)?this.characterUtil.checkForWallCollision(i.newGridPosition,this.mazeArray,this.direction)?(this.moving=!1,this.position):i.newPosition:(this.direction=this.desiredDirection,this.setSpriteSheet(this.direction),e.newPosition)},t.prototype.handleUnsnappedMovement=function(t,e){var i=this.characterUtil.determineNewPositions(this.position,this.desiredDirection,this.velocityPerMs,e,this.scaledTileSize),s=this.characterUtil.determineNewPositions(this.position,this.direction,this.velocityPerMs,e,this.scaledTileSize);return this.characterUtil.turningAround(this.direction,this.desiredDirection)?(this.direction=this.desiredDirection,this.setSpriteSheet(this.direction),i.newPosition):this.characterUtil.changingGridPosition(t,s.newGridPosition)?this.characterUtil.snapToGrid(t,this.direction,this.scaledTileSize):s.newPosition},t.prototype.draw=function(t){var e=this.characterUtil.calculateNewDrawValue(t,"top",this.oldPosition,this.position),i=this.characterUtil.calculateNewDrawValue(t,"left",this.oldPosition,this.position);this.animationTarget.style.top=e+"px",this.animationTarget.style.left=i+"px",this.animationTarget.style.visibility=this.display?this.characterUtil.checkForStutter(this.position,this.oldPosition):"hidden",this.pacmanArrow.style.visibility=this.animationTarget.style.visibility,this.updatePacmanArrowPosition(this.position,this.scaledTileSize);var s=this.characterUtil.advanceSpriteSheet(this);this.msSinceLastSprite=s.msSinceLastSprite,this.animationTarget=s.animationTarget,this.backgroundOffsetPixels=s.backgroundOffsetPixels},t.prototype.update=function(t){if(this.oldPosition=Object.assign({},this.position),this.moving){var e=this.characterUtil.determineGridPosition(this.position,this.scaledTileSize);JSON.stringify(this.position)===JSON.stringify(this.characterUtil.snapToGrid(e,this.direction,this.scaledTileSize))?this.position=this.handleSnappedMovement(t):this.position=this.handleUnsnappedMovement(e,t),this.position=this.characterUtil.handleWarp(this.position,this.scaledTileSize,this.mazeArray)}(this.moving||this.specialAnimation)&&(this.msSinceLastSprite+=t)},t}(),s=function(){function t(t,e){this.fpsDisplay=document.getElementById("fps-display"),this.elapsedMs=0,this.lastFrameTimeMs=0,this.entityList=e,this.maxFps=t,this.timestep=1e3/this.maxFps,this.fps=this.maxFps,this.framesThisSecond=0,this.lastFpsUpdate=0,this.frameId=0,this.running=!1,this.started=!1}return t.prototype.changePausedState=function(t){t?this.stop():this.start()},t.prototype.updateFpsDisplay=function(t){t>this.lastFpsUpdate+1e3&&(this.fps=(this.framesThisSecond+this.fps)/2,this.lastFpsUpdate=t,this.framesThisSecond=0),this.framesThisSecond+=1,this.fpsDisplay.textContent=Math.round(this.fps)+" FPS"},t.prototype.draw=function(t,e){e.forEach((function(e){"function"==typeof e.draw&&e.draw(t)}))},t.prototype.update=function(t,e){e.forEach((function(e){"function"==typeof e.update&&e.update(t)}))},t.prototype.panic=function(){this.elapsedMs=0},t.prototype.start=function(){var t=this;this.started||(this.started=!0,this.frameId=requestAnimationFrame((function(e){t.draw(1,[]),t.running=!0,t.lastFrameTimeMs=e,t.lastFpsUpdate=e,t.framesThisSecond=0,t.frameId=requestAnimationFrame((function(e){t.mainLoop(e)}))})))},t.prototype.stop=function(){this.running=!1,this.started=!1,cancelAnimationFrame(this.frameId)},t.prototype.processFrames=function(){for(var t=0;this.elapsedMs>=this.timestep;)if(this.update(this.timestep,this.entityList),this.elapsedMs-=this.timestep,(t+=1)>=this.maxFps){this.panic();break}},t.prototype.engineCycle=function(t){var e=this;t<this.lastFrameTimeMs+1e3/this.maxFps||(this.elapsedMs+=t-this.lastFrameTimeMs,this.lastFrameTimeMs=t,this.updateFpsDisplay(t),this.processFrames(),this.draw(this.elapsedMs/this.timestep,this.entityList)),this.frameId=requestAnimationFrame((function(t){e.mainLoop(t)}))},t.prototype.mainLoop=function(t){this.engineCycle(t)},t}(),n=function(){function t(t,e,i,s,n,o,a){this.type=t,this.pacman=n,this.mazeDiv=o,this.points=a,this.nearPacman=!1,this.fruitImages={100:"cherry",300:"strawberry",500:"orange",700:"apple",1e3:"melon",2e3:"galaxian",3e3:"bell",5e3:"key"},this.setStyleMeasurements(t,e,i,s,a)}return t.prototype.reset=function(){this.animationTarget.style.visibility="fruit"===this.type?"hidden":"visible"},t.prototype.setStyleMeasurements=function(t,e,i,s,n){"pacdot"===t?(this.size=.25*e,this.x=i*e+e/8*3,this.y=s*e+e/8*3):"powerPellet"===t?(this.size=e,this.x=i*e,this.y=s*e):(this.size=2*e,this.x=i*e-.5*e,this.y=s*e-.5*e),this.center={x:i*e,y:s*e},this.animationTarget=document.createElement("div"),this.animationTarget.style.position="absolute",this.animationTarget.style.backgroundSize=this.size+"px",this.animationTarget.style.backgroundImage=this.determineImage(t,n),this.animationTarget.style.height=this.size+"px",this.animationTarget.style.width=this.size+"px",this.animationTarget.style.top=this.y+"px",this.animationTarget.style.left=this.x+"px",this.mazeDiv.appendChild(this.animationTarget),"powerPellet"===t&&this.animationTarget.classList.add("power-pellet"),this.reset()},t.prototype.determineImage=function(t,e){return"url(assets/graphics/spriteSheets/pickups/"+("fruit"===t?this.fruitImages[e]||"cherry":t)+".png)"},t.prototype.showFruit=function(t){this.points=t,this.animationTarget.style.backgroundImage=this.determineImage(this.type,t),this.animationTarget.style.visibility="visible"},t.prototype.hideFruit=function(){this.animationTarget.style.visibility="hidden"},t.prototype.checkForCollision=function(t,e){var i=Object.assign({},e);return i.x+=.25*i.size,i.y+=.25*i.size,i.size/=2,t.x<i.x+i.size&&t.x+t.size>i.x&&t.y<i.y+i.size&&t.y+t.size>i.y},t.prototype.checkPacmanProximity=function(t,e,i){if("hidden"!==this.animationTarget.style.visibility){var s=Math.sqrt(Math.pow(this.center.x-e.x,2)+Math.pow(this.center.y-e.y,2));this.nearPacman=s<=t,i&&(this.animationTarget.style.background=this.nearPacman?"lime":"red")}},t.prototype.shouldCheckForCollision=function(){return"hidden"!==this.animationTarget.style.visibility&&this.nearPacman},t.prototype.update=function(){this.shouldCheckForCollision()&&this.checkForCollision({x:this.x,y:this.y,size:this.size},{x:this.pacman.position.left,y:this.pacman.position.top,size:this.pacman.measurement})&&(this.animationTarget.style.visibility="hidden",window.dispatchEvent(new CustomEvent("awardPoints",{detail:{points:this.points,type:this.type}})),"pacdot"===this.type?window.dispatchEvent(new Event("dotEaten")):"powerPellet"===this.type&&(window.dispatchEvent(new Event("dotEaten")),window.dispatchEvent(new Event("powerUp"))))},t}(),o=function(){function t(){this.directions={up:"up",down:"down",left:"left",right:"right"}}return t.prototype.checkForStutter=function(t,e){var i=!1;return t&&e&&(Math.abs(t.top-e.top)>5||Math.abs(t.left-e.left)>5)&&(i=!0),i?"hidden":"visible"},t.prototype.getPropertyToChange=function(t){switch(t){case this.directions.up:case this.directions.down:return"top";default:return"left"}},t.prototype.getVelocity=function(t,e){switch(t){case this.directions.up:case this.directions.left:return-1*e;default:return e}},t.prototype.calculateNewDrawValue=function(t,e,i,s){return i[e]+(s[e]-i[e])*t},t.prototype.determineGridPosition=function(t,e){return{x:t.left/e+.5,y:t.top/e+.5}},t.prototype.turningAround=function(t,e){return e===this.getOppositeDirection(t)},t.prototype.getOppositeDirection=function(t){switch(t){case this.directions.up:return this.directions.down;case this.directions.down:return this.directions.up;case this.directions.left:return this.directions.right;default:return this.directions.left}},t.prototype.determineRoundingFunction=function(t){switch(t){case this.directions.up:case this.directions.left:return Math.floor;default:return Math.ceil}},t.prototype.changingGridPosition=function(t,e){return Math.floor(t.x)!==Math.floor(e.x)||Math.floor(t.y)!==Math.floor(e.y)},t.prototype.checkForWallCollision=function(t,e,i){var s,n=this.determineRoundingFunction(i),o=n(t.x),a=n(t.y);return Array.isArray(e[a])&&(s=e[a][o]),"X"===s},t.prototype.determineNewPositions=function(t,e,i,s,n){var o=Object.assign({},t);return o[this.getPropertyToChange(e)]+=this.getVelocity(e,i)*s,{newPosition:o,newGridPosition:this.determineGridPosition(o,n)}},t.prototype.snapToGrid=function(t,e,i){var s=Object.assign({},t),n=this.determineRoundingFunction(e);switch(e){case this.directions.up:case this.directions.down:s.y=n(s.y);break;default:s.x=n(s.x)}return{top:(s.y-.5)*i,left:(s.x-.5)*i}},t.prototype.handleWarp=function(t,e,i){var s=Object.assign({},t),n=this.determineGridPosition(t,e);return n.x<-.75?s.left=e*(i[0].length-.75):n.x>i[0].length-.25&&(s.left=-1.25*e),s},t.prototype.advanceSpriteSheet=function(t){var e={msSinceLastSprite:t.msSinceLastSprite,animationTarget:t.animationTarget,backgroundOffsetPixels:t.backgroundOffsetPixels};if(t.msSinceLastSprite>t.msBetweenSprites&&t.animate){e.msSinceLastSprite=0,t.backgroundOffsetPixels<t.measurement*(t.spriteFrames-1)?e.backgroundOffsetPixels+=t.measurement:t.loopAnimation&&(e.backgroundOffsetPixels=0);var i="-"+e.backgroundOffsetPixels+"px 0px";e.animationTarget.style.backgroundPosition=i}return e},t}();const a=function(){function t(){this.baseUrl="assets/audio/",this.fileFormat="mp3",this.masterVolume=1,this.paused=!1,this.cutscene=!0;var t=window.AudioContext||window.webkitAudioContext;this.ambience=new t}return t.prototype.setCutscene=function(t){this.cutscene=t},t.prototype.setMasterVolume=function(t){this.masterVolume=t,this.soundEffect&&(this.soundEffect.volume=this.masterVolume),this.dotPlayer&&(this.dotPlayer.volume=this.masterVolume),0===this.masterVolume?this.stopAmbience():this.resumeAmbience(this.paused)},t.prototype.play=function(t){this.soundEffect=new Audio(""+this.baseUrl+t+"."+this.fileFormat),this.soundEffect.volume=this.masterVolume,this.soundEffect.play()},t.prototype.playDotSound=function(){this.queuedDotSound=!0,this.dotPlayer||(this.queuedDotSound=!1,this.dotSound=1===this.dotSound?2:1,this.dotPlayer=new Audio(this.baseUrl+"dot_"+this.dotSound+"."+this.fileFormat),this.dotPlayer.onended=this.dotSoundEnded.bind(this),this.dotPlayer.volume=this.masterVolume,this.dotPlayer.play())},t.prototype.dotSoundEnded=function(){this.dotPlayer=void 0,this.queuedDotSound&&this.playDotSound()},t.prototype.setAmbience=function(t,e){return i=this,s=void 0,o=function(){var i,s;return function(t,e){var i,s,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],s=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}}(this,(function(n){switch(n.label){case 0:return this.fetchingAmbience||this.cutscene?[3,4]:(e?this.paused=!0:(this.currentAmbience=t,this.paused=!1),this.ambienceSource&&this.ambienceSource.stop(),0===this.masterVolume?[3,4]:(this.fetchingAmbience=!0,[4,fetch(""+this.baseUrl+t+"."+this.fileFormat)]));case 1:return[4,n.sent().arrayBuffer()];case 2:return i=n.sent(),[4,this.ambience.decodeAudioData(i)];case 3:s=n.sent(),this.ambienceSource=this.ambience.createBufferSource(),this.ambienceSource.buffer=s,this.ambienceSource.connect(this.ambience.destination),this.ambienceSource.loop=!0,this.ambienceSource.start(),this.fetchingAmbience=!1,n.label=4;case 4:return[2]}}))},new((n=void 0)||(n=Promise))((function(t,e){function a(t){try{h(o.next(t))}catch(t){e(t)}}function r(t){try{h(o.throw(t))}catch(t){e(t)}}function h(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(t){t(i)}))).then(a,r)}h((o=o.apply(i,s||[])).next())}));var i,s,n,o},t.prototype.resumeAmbience=function(t){this.ambienceSource&&(t?this.setAmbience("pause_beat",!0):this.setAmbience(this.currentAmbience))},t.prototype.stopAmbience=function(){this.ambienceSource&&this.ambienceSource.stop()},t}(),r=function(){function t(t,e){this.callback=t,this.remaining=e,this.resume()}return t.prototype.pause=function(t){window.clearTimeout(this.timerId),this.remaining-=(new Date).getTime()-this.start,this.oldTimerId=this.timerId,t&&(this.pausedBySystem=!0)},t.prototype.resume=function(t){var e=this;!t&&this.pausedBySystem||(this.pausedBySystem=!1,this.start=new Date,this.timerId=window.setTimeout((function(){e.callback(),window.dispatchEvent(new CustomEvent("removeTimer",{detail:{timer:e}}))}),this.remaining),this.oldTimerId||window.dispatchEvent(new CustomEvent("addTimer",{detail:{timer:this}})))},t}();var h=function(){function t(){this.eventListenerMap={},this.eventListenerMap={}}return t.prototype.listen=function(t,e){this.eventListenerMap[t]||(this.eventListenerMap[t]=[]),this.eventListenerMap[t].push(e)},t.prototype.emit=function(t,e){this.eventListenerMap[t]&&this.eventListenerMap[t].forEach((function(t){t(e)}))},t}(),c="assets/graphics/spriteSheets/",l=function(){function t(){this.gameUIEvents=new h,this.gameUi=document.getElementById("game-ui"),this.rowTop=document.getElementById("row-top"),this.mazeDiv=document.getElementById("maze"),this.mazeImg=document.getElementById("maze-img"),this.mazeCover=document.getElementById("maze-cover"),this.pointsDisplay=document.getElementById("points-display"),this.highScoreDisplay=document.getElementById("high-score-display"),this.extraLivesDisplay=document.getElementById("extra-lives"),this.fruitDisplay=document.getElementById("fruit-display"),this.mainMenu=document.getElementById("main-menu-container"),this.gameStartButton=document.getElementById("game-start"),this.pauseButton=document.getElementById("pause-button"),this.soundButton=document.getElementById("sound-button"),this.leftCover=document.getElementById("left-cover"),this.rightCover=document.getElementById("right-cover"),this.pausedText=document.getElementById("paused-text"),this.bottomRow=document.getElementById("bottom-row"),this.movementButtons=document.getElementById("movement-buttons"),this.initListen()}return t.prototype.initListen=function(){this.gameStartButton.addEventListener("click",this.getGameUIEmitter("gameStart")),this.pauseButton.addEventListener("click",this.getGameUIEmitter("pauseToggle")),this.soundButton.addEventListener("click",this.getGameUIEmitter("soundToggle"))},t.prototype.getGameUIEmitter=function(t){var e=this;return function(){e.gameUIEvents.emit(t,{})}},t.prototype.setUiDimensions=function(t){this.gameUi.style.fontSize=t+"px",this.rowTop.style.marginBottom=t+"px"},t.prototype.startButtonClick=function(){var t=this;this.leftCover.style.left="-50%",this.rightCover.style.right="-50%",this.mainMenu.style.opacity=0,this.gameStartButton.disabled=!0,setTimeout((function(){t.mainMenu.style.visibility="hidden"}),1e3)},t.prototype.drawMaze=function(t){this.mazeDiv.style.height=31*t+"px",this.mazeDiv.style.width=28*t+"px",this.gameUi.style.width=28*t+"px",this.bottomRow.style.minHeight=2*t+"px",this.dotContainer=document.getElementById("dot-container")},t.prototype.setSoundButtonIcon=function(t){this.soundButton.innerHTML=0===t?"volume_off":"volume_up"},t.prototype.displayErrorMessage=function(){var t=document.getElementById("loading-container"),e=document.getElementById("error-message");t.style.opacity=0,setTimeout((function(){t.remove(),e.style.opacity=1,e.style.visibility="visible"}),1500)},t.prototype.preloadAssets=function(){var t=this;return new Promise((function(e){var i=document.getElementById("loading-container"),s=document.getElementById("loading-pacman"),n=document.getElementById("loading-dot-mask"),o=[c+"characters/pacman/arrow_down.svg",c+"characters/pacman/arrow_left.svg",c+"characters/pacman/arrow_right.svg",c+"characters/pacman/arrow_up.svg",c+"characters/pacman/pacman_death.svg",c+"characters/pacman/pacman_error.svg",c+"characters/pacman/pacman_down.svg",c+"characters/pacman/pacman_left.svg",c+"characters/pacman/pacman_right.svg",c+"characters/pacman/pacman_up.svg",c+"characters/ghosts/blinky/blinky_down_angry.svg",c+"characters/ghosts/blinky/blinky_down_annoyed.svg",c+"characters/ghosts/blinky/blinky_down.svg",c+"characters/ghosts/blinky/blinky_left_angry.svg",c+"characters/ghosts/blinky/blinky_left_annoyed.svg",c+"characters/ghosts/blinky/blinky_left.svg",c+"characters/ghosts/blinky/blinky_right_angry.svg",c+"characters/ghosts/blinky/blinky_right_annoyed.svg",c+"characters/ghosts/blinky/blinky_right.svg",c+"characters/ghosts/blinky/blinky_up_angry.svg",c+"characters/ghosts/blinky/blinky_up_annoyed.svg",c+"characters/ghosts/blinky/blinky_up.svg",c+"characters/ghosts/clyde/clyde_down.svg",c+"characters/ghosts/clyde/clyde_left.svg",c+"characters/ghosts/clyde/clyde_right.svg",c+"characters/ghosts/clyde/clyde_up.svg",c+"characters/ghosts/inky/inky_down.svg",c+"characters/ghosts/inky/inky_left.svg",c+"characters/ghosts/inky/inky_right.svg",c+"characters/ghosts/inky/inky_up.svg",c+"characters/ghosts/pinky/pinky_down.svg",c+"characters/ghosts/pinky/pinky_left.svg",c+"characters/ghosts/pinky/pinky_right.svg",c+"characters/ghosts/pinky/pinky_up.svg",c+"characters/ghosts/eyes_down.svg",c+"characters/ghosts/eyes_left.svg",c+"characters/ghosts/eyes_right.svg",c+"characters/ghosts/eyes_up.svg",c+"characters/ghosts/scared_blue.svg",c+"characters/ghosts/scared_white.svg",c+"pickups/pacdot.svg",c+"pickups/powerPellet.svg",c+"pickups/apple.svg",c+"pickups/bell.svg",c+"pickups/cherry.svg",c+"pickups/galaxian.svg",c+"pickups/key.svg",c+"pickups/melon.svg",c+"pickups/orange.svg",c+"pickups/strawberry.svg",c+"text/ready.svg",c+"text/100.svg",c+"text/200.svg",c+"text/300.svg",c+"text/400.svg",c+"text/500.svg",c+"text/700.svg",c+"text/800.svg",c+"text/1000.svg",c+"text/1600.svg",c+"text/2000.svg",c+"text/3000.svg",c+"text/5000.svg",c+"maze/maze_blue.svg","assets/graphics/extra_life.svg"],a="assets/audio/",r=[a+"game_start.mp3",a+"pause.mp3",a+"pause_beat.mp3",a+"siren_1.mp3",a+"siren_2.mp3",a+"siren_3.mp3",a+"power_up.mp3",a+"extra_life.mp3",a+"eyes.mp3",a+"eat_ghost.mp3",a+"death.mp3",a+"fruit.mp3",a+"dot_1.mp3",a+"dot_2.mp3"],h=o.length+r.length;t.remainingSources=h,s.style.left="0",n.style.width="0",Promise.all([t.createElements(o,"img",h,t),t.createElements(r,"audio",h,t)]).then((function(){i.style.opacity=0,e(null),setTimeout((function(){i.remove(),t.mainMenu.style.opacity=1,t.mainMenu.style.visibility="visible"}),1500)})).catch(t.displayErrorMessage)}))},t.prototype.createElements=function(t,e,i,s){var n=document.getElementById("loading-container"),o=document.getElementById("preload-div"),a=document.getElementById("loading-pacman"),r=n.scrollWidth-a.scrollWidth,h=document.getElementById("loading-dot-mask"),c=s;return new Promise((function(s,n){var l=0;t.forEach((function(d){var p="img"===e?new Image:new Audio;o.appendChild(p);var u=function(){c.remainingSources-=1,l+=1;var e=1-c.remainingSources/i;a.style.left=e*r+"px",h.style.width=a.style.left,l===t.length&&s(null)};"img"===e?(p.onload=u,p.onerror=n):(p.addEventListener("canplaythrough",u),p.onerror=n),p.src=d,"audio"===e&&p.load()}))}))},t.prototype.setPointDisplay=function(t){this.pointsDisplay.innerHTML=t},t.prototype.setHighScoreDisaply=function(t){this.highScoreDisplay.innerHTML=t},t}();const d=function(){function i(){var t=this;this.mazeArray=[["XXXXXXXXXXXXXXXXXXXXXXXXXXXX"],["XooooooooooooXXooooooooooooX"],["XoXXXXoXXXXXoXXoXXXXXoXXXXoX"],["XOXXXXoXXXXXoXXoXXXXXoXXXXOX"],["XoXXXXoXXXXXoXXoXXXXXoXXXXoX"],["XooooooooooooooooooooooooooX"],["XoXXXXoXXoXXXXXXXXoXXoXXXXoX"],["XoXXXXoXXoXXXXXXXXoXXoXXXXoX"],["XooooooXXooooXXooooXXooooooX"],["XXXXXXoXXXXX XX XXXXXoXXXXXX"],["XXXXXXoXXXXX XX XXXXXoXXXXXX"],["XXXXXXoXX          XXoXXXXXX"],["XXXXXXoXX XXXXXXXX XXoXXXXXX"],["XXXXXXoXX X      X XXoXXXXXX"],["      o   X      X   o      "],["XXXXXXoXX X      X XXoXXXXXX"],["XXXXXXoXX XXXXXXXX XXoXXXXXX"],["XXXXXXoXX          XXoXXXXXX"],["XXXXXXoXX XXXXXXXX XXoXXXXXX"],["XXXXXXoXX XXXXXXXX XXoXXXXXX"],["XooooooooooooXXooooooooooooX"],["XoXXXXoXXXXXoXXoXXXXXoXXXXoX"],["XoXXXXoXXXXXoXXoXXXXXoXXXXoX"],["XOooXXooooooo  oooooooXXooOX"],["XXXoXXoXXoXXXXXXXXoXXoXXoXXX"],["XXXoXXoXXoXXXXXXXXoXXoXXoXXX"],["XooooooXXooooXXooooXXooooooX"],["XoXXXXXXXXXXoXXoXXXXXXXXXXoX"],["XoXXXXXXXXXXoXXoXXXXXXXXXXoX"],["XooooooooooooooooooooooooooX"],["XXXXXXXXXXXXXXXXXXXXXXXXXXXX"]],this.gameUIManager=new l,this.maxFps=120,this.tileSize=8,this.scale=this.determineScale(1),this.scaledTileSize=this.tileSize*this.scale,this.firstGame=!0,this.movementKeys={87:"up",83:"down",65:"left",68:"right",38:"up",40:"down",37:"left",39:"right"},this.fruitPoints={1:100,2:300,3:500,4:700,5:1e3,6:2e3,7:3e3,8:5e3},this.mazeArray.forEach((function(e,i){t.mazeArray[i]=e[0].split("")})),this.gameUIManager.gameUIEvents.listen("gameStart",this.startButtonClick.bind(this)),this.gameUIManager.gameUIEvents.listen("pauseToggle",this.handlePauseKey.bind(this)),this.gameUIManager.gameUIEvents.listen("soundToggle",this.soundButtonClick.bind(this)),this.gameUIManager.preloadAssets()}return i.prototype.determineScale=function(t){var e=Math.min(document.documentElement.clientHeight,window.innerHeight||0),i=Math.min(document.documentElement.clientWidth,window.innerWidth||0),s=this.tileSize*t,n=this.mazeArray.length+5,o=this.mazeArray[0][0].split("").length;return s*n<e&&s*o<i?this.determineScale(t+1):t-1},i.prototype.soundButtonClick=function(){var t=1===this.soundManager.masterVolume?0:1;this.soundManager.setMasterVolume(t),localStorage.setItem("volumePreference",t),this.gameUIManager.setSoundButtonIcon(t)},i.prototype.startButtonClick=function(){this.gameUIManager.startButtonClick(),this.reset(),this.firstGame&&(this.firstGame=!1,this.init()),this.startGameplay(!0)},i.prototype.reset=function(){var i=this;this.activeTimers=[],this.points=0,this.level=1,this.lives=2,this.extraLifeGiven=!1,this.remainingDots=0,this.allowKeyPresses=!0,this.allowPacmanMovement=!1,this.allowPause=!1,this.cutscene=!0,this.highScore=localStorage.getItem("highScore"),this.firstGame&&(setInterval((function(){i.collisionDetectionLoop()}),500),this.pacman=new e(this.scaledTileSize,this.mazeArray,new o),this.blinky=new t(this.scaledTileSize,this.mazeArray,this.pacman,"blinky",this.level,new o),this.pinky=new t(this.scaledTileSize,this.mazeArray,this.pacman,"pinky",this.level,new o),this.inky=new t(this.scaledTileSize,this.mazeArray,this.pacman,"inky",this.level,new o,this.blinky),this.clyde=new t(this.scaledTileSize,this.mazeArray,this.pacman,"clyde",this.level,new o),this.fruit=new n("fruit",this.scaledTileSize,13.5,17,this.pacman,this.gameUIManager.mazeDiv,100)),this.entityList=[this.pacman,this.blinky,this.pinky,this.inky,this.clyde,this.fruit],this.ghosts=[this.blinky,this.pinky,this.inky,this.clyde],this.scaredGhosts=[],this.eyeGhosts=0,this.firstGame?(this.drawMaze(this.mazeArray,this.entityList),this.soundManager=new a,this.setUiDimensions()):(this.pacman.reset(),this.ghosts.forEach((function(t){t.reset(!0)})),this.pickups.forEach((function(t){"fruit"!==t.type&&(i.remainingDots+=1,t.reset(),i.entityList.push(t))}))),this.gameUIManager.setPointDisplay("00"),this.gameUIManager.setHighScoreDisaply(this.highScore||"00"),this.clearDisplay(this.gameUIManager.fruitDisplay);var s=parseInt(localStorage.getItem("volumePreference")||"1",10);this.gameUIManager.setSoundButtonIcon(s),this.soundManager.setMasterVolume(s)},i.prototype.init=function(){this.registerEventListeners(),this.gameEngine=new s(this.maxFps,this.entityList),this.gameEngine.start()},i.prototype.drawMaze=function(t,e){var i=this;this.pickups=[this.fruit],this.gameUIManager.drawMaze(this.scaledTileSize),t.forEach((function(t,s){t.forEach((function(t,o){if("o"===t||"O"===t){var a="o"===t?10:50,r=new n("o"===t?"pacdot":"powerPellet",i.scaledTileSize,o,s,i.pacman,i.gameUIManager.dotContainer,a);e.push(r),i.pickups.push(r),i.remainingDots+=1}}))}))},i.prototype.setUiDimensions=function(){this.gameUIManager.setUiDimensions(this.scaledTileSize)},i.prototype.collisionDetectionLoop=function(){if(this.pacman.position){var t=750*this.pacman.velocityPerMs,e={x:this.pacman.position.left+this.scaledTileSize,y:this.pacman.position.top+this.scaledTileSize};this.pickups.forEach((function(i){i.checkPacmanProximity(t,e,!1)}))}},i.prototype.startGameplay=function(t){var e=this;t&&this.soundManager.play("game_start"),this.scaredGhosts=[],this.eyeGhosts=0,this.allowPacmanMovement=!1;var i=11*this.scaledTileSize,s=16.5*this.scaledTileSize,n=t?4500:2e3,o=6*this.scaledTileSize,a=2*this.scaledTileSize;this.displayText({left:i,top:s},"ready",n,o,a),this.updateExtraLivesDisplay(),new r((function(){e.allowPause=!0,e.cutscene=!1,e.soundManager.setCutscene(e.cutscene),e.soundManager.setAmbience(e.determineSiren(e.remainingDots)),e.allowPacmanMovement=!0,e.pacman.moving=!0,e.ghosts.forEach((function(t){t.moving=!0})),e.ghostCycle("scatter"),e.idleGhosts=[e.pinky,e.inky,e.clyde],e.releaseGhost()}),n)},i.prototype.clearDisplay=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},i.prototype.updateExtraLivesDisplay=function(){this.clearDisplay(this.gameUIManager.extraLivesDisplay);for(var t=0;t<this.lives;t+=1){var e=document.createElement("img");e.setAttribute("src","assets/graphics/extra_life.png"),e.style.height=2*this.scaledTileSize+"px",this.gameUIManager.extraLivesDisplay.appendChild(e)}},i.prototype.updateFruitDisplay=function(t){var e=t.slice(t.indexOf("(")+1,t.indexOf(")"));7===this.gameUIManager.fruitDisplay.children.length&&this.gameUIManager.fruitDisplay.removeChild(this.gameUIManager.fruitDisplay.firstChild);var i=document.createElement("img");i.setAttribute("src",e),i.style.height=2*this.scaledTileSize+"px",this.gameUIManager.fruitDisplay.appendChild(i)},i.prototype.ghostCycle=function(t){var e=this,i="scatter"===t?7e3:2e4,s="scatter"===t?"chase":"scatter";this.ghostCycleTimer=new r((function(){e.ghosts.forEach((function(t){t.changeMode(s)})),e.ghostCycle(s)}),i)},i.prototype.releaseGhost=function(){var t=this;if(this.idleGhosts.length>0){var e=Math.max(1e3*(8-4*(this.level-1)),0);this.endIdleTimer=new r((function(){t.idleGhosts[0].endIdleMode(),t.idleGhosts.shift()}),e)}},i.prototype.registerEventListeners=function(){var t=this;window.addEventListener("keydown",this.handleKeyDown.bind(this)),window.addEventListener("awardPoints",this.awardPoints.bind(this)),window.addEventListener("deathSequence",this.deathSequence.bind(this)),window.addEventListener("dotEaten",this.dotEaten.bind(this)),window.addEventListener("powerUp",this.powerUp.bind(this)),window.addEventListener("eatGhost",this.eatGhost.bind(this)),window.addEventListener("restoreGhost",this.restoreGhost.bind(this)),window.addEventListener("addTimer",this.addTimer.bind(this)),window.addEventListener("removeTimer",this.removeTimer.bind(this)),window.addEventListener("releaseGhost",this.releaseGhost.bind(this)),["up","down","left","right"].forEach((function(e){document.getElementById("button-"+e).addEventListener("touchstart",(function(){t.changeDirection(e)}))}))},i.prototype.changeDirection=function(t){this.allowKeyPresses&&this.gameEngine.running&&this.pacman.changeDirection(t,this.allowPacmanMovement)},i.prototype.handleKeyDown=function(t){27===t.keyCode?this.handlePauseKey():81===t.keyCode?this.soundButtonClick():this.movementKeys[t.keyCode]&&this.changeDirection(this.movementKeys[t.keyCode])},i.prototype.handlePauseKey=function(){var t=this;this.allowPause&&(this.allowPause=!1,setTimeout((function(){t.cutscene||(t.allowPause=!0)}),500),this.gameEngine.changePausedState(this.gameEngine.running),this.soundManager.play("pause"),this.gameEngine.started?(this.soundManager.resumeAmbience(),this.gameUIManager.gameUi.style.filter="unset",this.gameUIManager.movementButtons.style.filter="unset",this.gameUIManager.pausedText.style.visibility="hidden",this.gameUIManager.pauseButton.innerHTML="pause",this.activeTimers.forEach((function(t){t.resume()}))):(this.soundManager.stopAmbience(),this.soundManager.setAmbience("pause_beat",!0),this.gameUIManager.gameUi.style.filter="blur(5px)",this.gameUIManager.movementButtons.style.filter="blur(5px)",this.gameUIManager.pausedText.style.visibility="visible",this.gameUIManager.pauseButton.innerHTML="play_arrow",this.activeTimers.forEach((function(t){t.pause()}))))},i.prototype.awardPoints=function(t){if(this.points+=t.detail.points,this.gameUIManager.pointsDisplay.innerText=this.points,this.points>(this.highScore||0)&&(this.highScore=this.points,this.gameUIManager.highScoreDisplay.innerText=this.points,localStorage.setItem("highScore",this.highScore)),this.points>=1e4&&!this.extraLifeGiven&&(this.extraLifeGiven=!0,this.soundManager.play("extra_life"),this.lives+=1,this.updateExtraLivesDisplay()),"fruit"===t.detail.type){var e=t.detail.points>=1e3?12.5*this.scaledTileSize:13*this.scaledTileSize,i=16.5*this.scaledTileSize,s=t.detail.points>=1e3?3*this.scaledTileSize:2*this.scaledTileSize,n=2*this.scaledTileSize;this.displayText({left:e,top:i},t.detail.points,2e3,s,n),this.soundManager.play("fruit"),this.updateFruitDisplay(this.fruit.determineImage("fruit",t.detail.points))}},i.prototype.deathSequence=function(){var t=this;this.allowPause=!1,this.cutscene=!0,this.soundManager.setCutscene(this.cutscene),this.soundManager.stopAmbience(),this.removeTimer({detail:{timer:this.fruitTimer}}),this.removeTimer({detail:{timer:this.ghostCycleTimer}}),this.removeTimer({detail:{timer:this.endIdleTimer}}),this.removeTimer({detail:{timer:this.ghostFlashTimer}}),this.allowKeyPresses=!1,this.pacman.moving=!1,this.ghosts.forEach((function(t){t.moving=!1})),new r((function(){t.ghosts.forEach((function(t){t.display=!1})),t.pacman.prepDeathAnimation(),t.soundManager.play("death"),t.lives>0?(t.lives-=1,new r((function(){t.gameUIManager.mazeCover.style.visibility="visible",new r((function(){t.allowKeyPresses=!0,t.gameUIManager.mazeCover.style.visibility="hidden",t.pacman.reset(),t.ghosts.forEach((function(t){t.reset()})),t.fruit.hideFruit(),t.startGameplay()}),500)}),2250)):t.gameOver()}),750)},i.prototype.gameOver=function(){var t=this;localStorage.setItem("highScore",this.highScore),new r((function(){t.displayText({left:9*t.scaledTileSize,top:16.5*t.scaledTileSize},"game_over",4e3,10*t.scaledTileSize,2*t.scaledTileSize),t.fruit.hideFruit(),new r((function(){t.gameUIManager.leftCover.style.left="0",t.gameUIManager.rightCover.style.right="0",setTimeout((function(){t.gameUIManager.mainMenu.style.opacity=1,t.gameUIManager.gameStartButton.disabled=!1,t.gameUIManager.mainMenu.style.visibility="visible"}),1e3)}),2500)}),2250)},i.prototype.dotEaten=function(){this.remainingDots-=1,this.soundManager.playDotSound(),174!==this.remainingDots&&74!==this.remainingDots||this.createFruit(),40!==this.remainingDots&&20!==this.remainingDots||this.speedUpBlinky(),0===this.remainingDots&&this.advanceLevel()},i.prototype.createFruit=function(){var t=this;this.removeTimer({detail:{timer:this.fruitTimer}}),this.fruit.showFruit(this.fruitPoints[this.level]||5e3),this.fruitTimer=new r((function(){t.fruit.hideFruit()}),1e4)},i.prototype.speedUpBlinky=function(){this.blinky.speedUp(),0===this.scaredGhosts.length&&0===this.eyeGhosts&&this.soundManager.setAmbience(this.determineSiren(this.remainingDots))},i.prototype.determineSiren=function(t){return"siren_"+(t>40?1:t>20?2:3)},i.prototype.advanceLevel=function(){var e=this;this.allowPause=!1,this.cutscene=!0,this.soundManager.setCutscene(this.cutscene),this.allowKeyPresses=!1,this.soundManager.stopAmbience(),this.entityList.forEach((function(t){t.moving=!1})),this.removeTimer({detail:{timer:this.fruitTimer}}),this.removeTimer({detail:{timer:this.ghostCycleTimer}}),this.removeTimer({detail:{timer:this.endIdleTimer}}),this.removeTimer({detail:{timer:this.ghostFlashTimer}});var i="assets/graphics/spriteSheets/maze/";new r((function(){e.ghosts.forEach((function(t){t.display=!1})),e.gameUIManager.mazeImg.src=i+"maze_white.png",new r((function(){e.gameUIManager.mazeImg.src=i+"maze_blue.png",new r((function(){e.gameUIManager.mazeImg.src=i+"maze_white.png",new r((function(){e.gameUIManager.mazeImg.src=i+"maze_blue.png",new r((function(){e.gameUIManager.mazeImg.src=i+"maze_white.png",new r((function(){e.gameUIManager.mazeImg.src=i+"maze_blue.png",new r((function(){e.gameUIManager.mazeCover.style.visibility="visible",new r((function(){e.gameUIManager.mazeCover.style.visibility="hidden",e.level+=1,e.allowKeyPresses=!0,e.entityList.forEach((function(i){var s=i;s.level&&(s.level=e.level),s.reset(),s instanceof t&&s.resetDefaultSpeed(),s instanceof n&&"fruit"!==s.type&&(e.remainingDots+=1)})),e.startGameplay()}),500)}),250)}),250)}),250)}),250)}),250)}),250)}),2e3)},i.prototype.flashGhosts=function(t,e){var i=this;t===e?(this.scaredGhosts.forEach((function(t){t.endScared()})),this.scaredGhosts=[],0===this.eyeGhosts&&this.soundManager.setAmbience(this.determineSiren(this.remainingDots))):this.scaredGhosts.length>0&&(this.scaredGhosts.forEach((function(t){t.toggleScaredColor()})),this.ghostFlashTimer=new r((function(){i.flashGhosts(t+1,e)}),250))},i.prototype.powerUp=function(){var t=this;0!==this.remainingDots&&this.soundManager.setAmbience("power_up"),this.removeTimer({detail:{timer:this.ghostFlashTimer}}),this.ghostCombo=0,this.scaredGhosts=[],this.ghosts.forEach((function(e){"eyes"!==e.mode&&t.scaredGhosts.push(e)})),this.scaredGhosts.forEach((function(t){t.becomeScared()}));var e=Math.max(1e3*(7-this.level),0);this.ghostFlashTimer=new r((function(){t.flashGhosts(0,9)}),e)},i.prototype.determineComboPoints=function(){return 100*Math.pow(2,this.ghostCombo)},i.prototype.eatGhost=function(t){var e=this,i=t.detail.ghost,s=i.position,n=i.measurement;this.pauseTimer({detail:{timer:this.ghostFlashTimer}}),this.pauseTimer({detail:{timer:this.ghostCycleTimer}}),this.pauseTimer({detail:{timer:this.fruitTimer}}),this.soundManager.play("eat_ghost"),this.scaredGhosts=this.scaredGhosts.filter((function(e){return e.name!==t.detail.ghost.name})),this.eyeGhosts+=1,this.ghostCombo+=1;var o=this.determineComboPoints();window.dispatchEvent(new CustomEvent("awardPoints",{detail:{points:o}})),this.displayText(s,o,1e3,n),this.allowPacmanMovement=!1,this.pacman.display=!1,this.pacman.moving=!1,t.detail.ghost.display=!1,t.detail.ghost.moving=!1,this.ghosts.forEach((function(t){var e=t;e.animate=!1,e.pause(!0),e.allowCollision=!1})),new r((function(){e.soundManager.setAmbience("eyes"),e.resumeTimer({detail:{timer:e.ghostFlashTimer}}),e.resumeTimer({detail:{timer:e.ghostCycleTimer}}),e.resumeTimer({detail:{timer:e.fruitTimer}}),e.allowPacmanMovement=!0,e.pacman.display=!0,e.pacman.moving=!0,t.detail.ghost.display=!0,t.detail.ghost.moving=!0,e.ghosts.forEach((function(t){var e=t;e.animate=!0,e.pause(!1),e.allowCollision=!0}))}),1e3)},i.prototype.restoreGhost=function(){if(this.eyeGhosts-=1,0===this.eyeGhosts){var t=this.scaredGhosts.length>0?"power_up":this.determineSiren(this.remainingDots);this.soundManager.setAmbience(t)}},i.prototype.displayText=function(t,e,i,s,n){var o=this,a=document.createElement("div");a.style.position="absolute",a.style.backgroundSize=s+"px",a.style.backgroundImage="url(assets/graphics/spriteSheets/text/"+e+".png",a.style.width=s+"px",a.style.height=(n||s)+"px",a.style.top=t.top+"px",a.style.left=t.left+"px",a.style.zIndex=2,this.gameUIManager.mazeDiv.appendChild(a),new r((function(){o.gameUIManager.mazeDiv.removeChild(a)}),i)},i.prototype.addTimer=function(t){this.activeTimers.push(t.detail.timer)},i.prototype.timerExists=function(t){return!!(t.detail.timer||{}).timerId},i.prototype.pauseTimer=function(t){this.timerExists(t)&&t.detail.timer.pause(!0)},i.prototype.resumeTimer=function(t){this.timerExists(t)&&t.detail.timer.resume(!0)},i.prototype.removeTimer=function(t){this.timerExists(t)&&(window.clearTimeout(t.detail.timer.timerId),this.activeTimers=this.activeTimers.filter((function(e){return e.timerId!==t.detail.timer.timerId})))},i}();var p=i(379),u=i.n(p),m=i(838);u()(m.Z,{insert:"head",singleton:!1}),m.Z.locals,window.onload=function(){var t=new d;window.game=t}})()})();